<div class="col-md-6 p-0 mx-auto my-5">
  <div class="p-3 bg-white shadow-lg rounded">
    <form
      [formGroup]="userForm"
      *ngIf="!isEditMode || (user | async)"
      (ngSubmit)="addUser()"
    >
      <div class="">
        <div class="form-group">
          <label for="idp">User Name</label>
          <input
            type="text"
            class="form-control"
            id="tname"
            placeholder="Enter user name"
            formControlName="username"
          />
          <div
            class="text-danger"
            *ngIf="form.username.invalid && form.username.touched"
          >
            Please enter the theater name.
          </div>
        </div>

        <div class="form-group">
          <label for="productname">Email</label>
          <input
            type="email"
            class="form-control"
            id="tcity"
            placeholder="Enter email"
            formControlName="email"
          />
          <div
            class="text-danger"
            *ngIf="form.email.invalid && form.email.touched"
          >
            Please enter the theater name.
          </div>

          <div
            class="text-danger"
            *ngIf="form.email.touched || form.email.dirty"
          >
            <p *ngIf="form.email.errors?.required">
              Email is a required field!
            </p>
            <p *ngIf="form.email.errors?.pattern">
              This is not a valid Email!!!
            </p>
          </div>
        </div>

        <div class="form-group" *ngIf="!isEditMode">
          <label for="productname">Password</label>
          <input
            type="password"
            class="form-control"
            id="mName"
            placeholder="Enter manager name"
            formControlName="password"
          />

          <div
            class="text-danger"
            *ngIf="form.password.touched || form.password.dirty"
          >
            <p *ngIf="form.password.errors?.required">
              Password is a required field!
            </p>
          </div>
          <p class="text-info" *ngIf="form.password.errors?.minlength">
            Password must be at least 8 characters
          </p>
        </div>

        <div class="form-group">
          <label for="productname">User Contact</label>
          <input
            type="text"
            class="form-control"
            id="mContact"
            placeholder="Enter manager contact"
            formControlName="contact"
          />
          <div class="text-danger" *ngIf="form.contact.touched">
            <p *ngIf="form.contact.errors?.required">
              Contact is a required field!
            </p>
            <p *ngIf="form.contact.errors?.pattern">
              This is not a valid Contact Number
            </p>
            <p
              *ngIf="
                form.contact.errors?.minlength || form.contact.errors?.maxlength
              "
            >
              Contact Number must be 10 digit
            </p>
          </div>
        </div>

        <div class="check-box">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              value="ROLE_ADMIN"
              (change)="onCheckChange($event)"
              id="default"
            />
            <label class="form-check-label" for="defaultCheck1">
              Is Admin
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              value="ROLE_CUSTOMER"
              (change)="onCheckChange($event)"
              id="default2"
            />
            <label class="form-check-label" for="defaultCheck1">
              Is User
            </label>
          </div>
        </div>

        <button
          type="submit"
          [disabled]="!userForm.valid"
          class="btn btn-primary mt-2"
        >
          Save User
        </button>
        <button
          type="button"
          class="btn btn-dark mt-2 float-right"
          (click)="close()"
        >
          Close
        </button>
      </div>
    </form>
    <ng-template #loading> Lodaing... </ng-template>
  </div>
</div>
